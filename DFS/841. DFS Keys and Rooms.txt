class Solution {
    boolean[] st;
    List<List<Integer>> rooms;
    public boolean canVisitAllRooms(List<List<Integer>> rooms) {
        this.rooms=rooms;
        int n = rooms.size();
        st = new boolean[n];
        dfs(0);
        for(int i=0;i<n;i++){
            if(!st[i]) return false;
        }
        return true;
    }

    void dfs(int u){
        if(st[u]) return;
        st[u]=true;
        List<Integer> list = rooms.get(u);
        for(int room:list){         
            dfs(room);
        }
    }
}
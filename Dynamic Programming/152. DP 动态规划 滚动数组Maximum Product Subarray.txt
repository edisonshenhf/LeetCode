class Solution {
    public int maxProduct(int[] nums) {
        int res= nums[0];
        int f= nums[0];
        int g = nums[0];
        for(int i=1;i<nums.length;i++){
            int a = nums[i], fa= f*a,ga=g*a;
            f=Math.max(a,Math.max(fa,ga));
            g=Math.min(a,Math.min(fa,ga));
            res= Math.max(res,f);
        }
        return res;
    }
}